/* css/styles.css */

/* Màu dùng chung */
:root{
    --green: #16a34a;
    --green-hover: #15803d;
    --red: #dc2626;
    --red-hover: #b91c1c;
    --yellow: #facc15;
    --yellow-hover: #eab308;
  }
  
  /* Layout cơ bản */
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
  }
  
  body {
    display: flex;
    flex-direction: column;
    min-height: 100dvh; /* dynamic viewport height - iOS Safari hỗ trợ */
  }
  
  #controls {
    margin: 10px;
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap; /* để nút xuống hàng nếu hẹp màn hình */
    box-sizing: border-box;
  }
  
  #chart {
    flex: 1 1 auto;  /* chiếm toàn bộ phần còn lại */
    width: 100%;
    height: auto;    /* không fix px */
    position: relative;
    overflow: hidden;
  }
  
  #controls{
    margin: 10px;
    display: flex;
    gap: 10px;
    align-items: center;
  }
  
  /* Base cho tất cả button */
  #controls button{
    padding: 8px 12px;
    border-radius: 10px;
    border: 1px solid transparent;
    font-weight: 600;
    cursor: pointer;
    transition: transform .04s ease, background-color .12s ease, border-color .12s ease, opacity .12s ease;
  }
  #controls button:active{ transform: translateY(1px); }
  #controls button:disabled{ opacity: .6; cursor: not-allowed; }
  
  /* UP + Stop Point UP: xanh lá */
  #btnUp, #btnStopPointUp{
    background: var(--green);
    color: #fff;
    border-color: #0f7a35;
  }
  #btnUp:hover, #btnStopPointUp:hover{
    background: var(--green-hover);
    border-color: #0d6a2f;
  }
  #btnUp:focus-visible, #btnStopPointUp:focus-visible{
    outline: 3px solid rgba(22,163,74,.35);
    outline-offset: 2px;
  }
  
  /* DOWN + Stop Point DOWN: đỏ */
  #btnDown, #btnStopPointDown{
    background: var(--red);
    color: #fff;
    border-color: #a91414;
  }
  #btnDown:hover, #btnStopPointDown:hover{
    background: var(--red-hover);
    border-color: #8f1212;
  }
  #btnDown:focus-visible, #btnStopPointDown:focus-visible{
    outline: 3px solid rgba(220,38,38,.35);
    outline-offset: 2px;
  }
  
  /* Reset All: vàng (chữ đen cho dễ đọc) */
  #btnResetAll{
    background: var(--yellow);
    color: #111827;
    border-color: #d1a307;
  }
  #btnResetAll:hover{
    background: var(--yellow-hover);
    border-color: #b98f06;
  }
  #btnResetAll:focus-visible{
    outline: 3px solid rgba(250,204,21,.45);
    outline-offset: 2px;
  }
  
    /* ====== Modal (popup) ====== */
  body.no-scroll { overflow: hidden; }

  .modal {
    position: fixed;
    inset: 0;
    display: none;              /* ẩn mặc định */
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,.45);/* overlay */
    z-index: 1000;
  }

  .modal.is-open { display: flex; }

  .modal__dialog {
    width: min(960px, 92vw);
    max-height: min(80dvh, 80svh, 80vh);
    background: #fff;
    color: #111827;
    border-radius: 14px;
    box-shadow: 0 20px 60px rgba(0,0,0,.18);
    overflow: hidden;           /* bo tròn viền */
    display: flex;
    flex-direction: column;
  }

  .modal__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid #e5e7eb;
    background: #f9fafb;
  }

  .modal__title {
    font-weight: 700;
    font-size: 16px;
  }

  .modal__close {
    border: 1px solid #e5e7eb;
    background: #fff;
    padding: 6px 10px;
    border-radius: 8px;
    cursor: pointer;
  }

  .modal__body {
    padding: 10px 12px;
    overflow: auto;             /* phần nội dung bảng có thể cuộn */
  }

  /* Nút mở popup (2 nút: UP và DOWN) */
  .result-trigger {
    padding: 8px 12px;
    border-radius: 10px;
    border: 1px solid transparent;
    font-weight: 600;
    cursor: pointer;
    transition: transform .04s ease, background-color .12s ease, border-color .12s ease, opacity .12s ease;
  }
  .result-trigger:active { transform: translateY(1px); }

  /* Màu nút theo theme bạn */
  #btnShowUpResult {
    background: var(--green);
    color: #fff;
    border-color: #0f7a35;
  }
  #btnShowUpResult:hover {
    background: var(--green-hover);
    border-color: #0d6a2f;
  }
  #btnShowDownResult {
    background: var(--red);
    color: #fff;
    border-color: #a91414;
  }
  #btnShowDownResult:hover {
    background: var(--red-hover);
    border-color: #8f1212;
  }

  /* Tùy chọn: style bảng bên trong modal (nếu bạn render table) */
  .modal__body table {
    width: 100%;
    border-collapse: collapse;
  }
  .modal__body th, .modal__body td {
    border-bottom: 1px solid #e5e7eb;
    padding: 8px 10px;
    font-size: 14px;
    text-align: left;
  }
  .modal__body th {
    background: #f3f4f6;
    font-weight: 700;
  }
