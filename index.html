<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Chart thời gian thực - 41I1F8000</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
  <script src="https://unpkg.com/lightweight-charts@4.0.1/dist/lightweight-charts.standalone.production.js"></script>
  <style>
    #chart {
      width: 100%;
      height: 600px;
      position: relative;
    }

    #controls {
      margin: 10px;
      display: flex;
      gap: 10px;
      align-items: center;
    }
  </style>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <h2>Biểu đồ thời gian thực: 41I1F8000</h2>
  <div id="controls">
    <select id="timeframe">
      <option value="1s">1 giây</option>
      <option value="1m">1 phút</option>
      <option value="5m">5 phút</option>
    </select>
    <button id="exportBtn">Export JSON</button>
    <input type="file" id="importFile" style="display:none" accept=".json" multiple />
    <button id="importBtn">Import JSON</button>
    <button id="refreshBtn">Refresh</button>
    <button id="btnResetAll">Reset All</button>
    <button id="btnUp">UP</button>
    <button id="btnStopPointUp">Stop Point UP</button>
    <button id="btnStartAutoUp">Start Auto UP</button>
    <button id="btnStopAutoUp" disabled>Stop Auto UP</button>
    <button id="btnShowUpResult" class="result-trigger" type="button">Kết quả UP</button>
    <button id="btnDown">DOWN</button>
    <button id="btnStopPointDown">Stop Point DOWN</button>
    <button id="btnStartAutoDown">Start Auto DOWN</button>
    <button id="btnStopAutoDown" disabled>Stop Auto DOWN</button>
    <button id="btnShowDownResult" class="result-trigger" type="button">Kết quả DOWN</button>

    <!-- Modal: Kết quả UP -->
    <div id="modalUp" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal__dialog">
        <div class="modal__header">
          <div class="modal__title">Kết quả UP</div>
          <button class="modal__close" type="button" data-close-up>Đóng</button>
        </div>
        <div class="modal__body">
          <!-- Giữ nguyên ID để code hiện tại tiếp tục render vào đây -->
          <div id="ratio-table-container" style="padding:0;"></div>
        </div>
      </div>
    </div>

    <!-- Modal: Kết quả DOWN -->
    <div id="modalDown" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal__dialog">
        <div class="modal__header">
          <div class="modal__title">Kết quả DOWN</div>
          <button class="modal__close" type="button" data-close-down>Đóng</button>
        </div>
        <div class="modal__body">
          <!-- Giữ nguyên ID để code hiện tại tiếp tục render vào đây -->
          <div id="ratio-table-container-down" style="padding:0;"></div>
        </div>
      </div>
    </div>

  </div>
  <div id="chart"></div>

  <!-- JavaScript đã tách -->
  <script src="javascript/main.js"></script>
  <script src="javascript/setting.js"></script>
  <script src="javascript/upHandler.js"></script>
  <script src="javascript/downHandler.js"></script>
  <script src="javascript/resetAll.js"></script>
  <script src="javascript/stopPointUpHandler.js"></script>
  <script src="javascript/stopPointDownHandler.js"></script>
  <script src="javascript/upRatioPanel.js"></script>
  <script src="javascript/downRatioPanel.js"></script>

</body>

</html>